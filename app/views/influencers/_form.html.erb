<turbo-frame id="profile_form">
  <%= form_with model: profile, local: false,
        class: "grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 p-6" do |f| %>

    <!-- Global Errors -->
    <% if profile.errors.any? %>
      <div class="mb-4 rounded-2xl bg-red-50 border border-red-200 p-4 col-span-2">
        <h2 class="text-red-700 font-semibold mb-2">
          <%= pluralize(profile.errors.count, "error") %> prevented this profile from being saved:
        </h2>
        <ul class="list-disc pl-5 text-red-600 text-sm">
          <% profile.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <!-- Profile Picture -->
    <div class="col-span-1">
      <%= f.label :profile_pic, "Profile Picture", class: "block text-sm font-medium text-gray-700" %>
      <%= f.file_field :profile_pic,
            class: "mt-2 block w-full text-sm text-gray-600
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-full file:border-0 file:text-sm file:font-semibold
                    file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" %>
    </div>

    <!-- Full Name -->
    <div>
      <%= f.label :full_name, "Full Name", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :full_name, placeholder: "Your Full Name",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
      <% if profile.errors[:full_name].any? %>
        <p class="text-sm text-red-600 mt-1"><%= profile.errors[:full_name].first %></p>
      <% end %>
    </div>

    <!-- Nick Name -->
    <div>
      <%= f.label :nickname, "Nick Name", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :nickname, placeholder: "Your Nickname",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
    </div>

    <!-- Bio -->
    <div>
      <%= f.label :bio, "Bio", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_area :bio, placeholder: "Your Bio",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400 h-28" %>
    </div>

    <!-- Gender -->
    <div>
      <%= f.label :gender, "Gender", class: "block text-sm font-medium text-gray-700" %>
      <%= f.select :gender, [["Male", "male"], ["Female", "female"], ["Other", "other"]],
            { prompt: "Select Gender" },
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 text-gray-600" %>
    </div>

    <!-- Country -->
    <div>
      <%= f.label :country, "Country", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :country, placeholder: "Your Country",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
    </div>

    <!-- District -->
    <div>
      <%= f.label :dist, "District", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :dist, placeholder: "Your District",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
    </div>

    <!-- City -->
    <div>
      <%= f.label :city_name, "City", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :city_name, placeholder: "Your City",
        value: (profile.city.name if profile.city),
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
    </div>

    <!-- Language -->
    <div>
      <%= f.label :language, "Language", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :language, placeholder: "Your Language",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
    </div>

    <!-- Content Type -->
    <div>
    <%= f.label :content_type, "Content Type", class: "block text-sm font-medium text-gray-700" %>
    <%= f.select :content_type,
          options_from_collection_for_select(ContentType.all, :name, :name, f.object.content_type),
          { prompt: "Select a Content Type" },
          class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>

    <% if profile.errors[:content_type].any? %>
      <p class="text-sm text-red-600 mt-1"><%= profile.errors[:content_type].first %></p>
    <% end %>
  </div>


    <!-- Mobile Number -->
    <div>
      <%= f.label :mobile, "Mobile Number", class: "block text-sm font-medium text-gray-700" %>
      <%= f.text_field :mobile, placeholder: "Your Mobile Number",
            class: "mt-2 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
      <% if profile.errors[:mobile].any? %>
        <p class="text-sm text-red-600 mt-1"><%= profile.errors[:mobile].first %></p>
      <% end %>
    </div>

    <!-- Submit -->
    <div class="col-span-1 md:col-span-2">
      <%= f.submit "Save Profile",
            class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-colors duration-200" %>
    </div>

  <% end %>
</turbo-frame>
