<div class="flex-grow p-8">
     <div class="max-w-4xl mx-auto">
        <div class="p-8">
            <!-- Header Section -->
            <div class="flex items-center justify-between flex-wrap mb-6">
            <div class="flex items-center space-x-6">
                <% if @profile.profile_pic.attached? %>

                    <%= image_tag @profile.profile_pic.variant(resize_to_fill: [150, 150]).processed,
                            class: "shadow-md w-20 h-20 rounded-full object-cover" %>
                <%else%>
                <img class="w-20 h-20 rounded-full object-cover" src="https://placehold.co/100x100/A020F0/FFFFFF?text=A" alt="User profile photo">
                <% end %>
                <div>
                <h2 class="text-2xl font-semibold text-gray-900"><%= @user.profile&.full_name %></h2>
                <p class="text-gray-500 text-base"><%= @user.email_address %></p>
                </div>
            </div>
            <%# link_to "Edit", profile_path, class: "mt-4 sm:mt-0 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-xl shadow-md transition-colors duration-200" %>
            </div>

            <hr class="border-t border-gray-200 my-8">

            <!-- Form Section -->
            <%= form_with model: @profile, url: profile_create_path,method: :patch, local: true, class: "grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6" do |f| %>
                <!-- Profile Picture -->
                <div>
                <%= f.label :profile_pic, "Profile Picture", class: "block text-sm font-medium text-gray-700" %>
                <%= f.file_field :profile_pic,
                        class: "mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4
                            file:rounded-full file:border-0 file:text-sm file:font-semibold
                            file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" %>

                </div>
                <!-- Full Name -->
                <div>
                    <%= f.label :full_name, "Full Name", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.text_field :full_name,
                        placeholder: "Your First Name",
                        value: @profile.full_name,
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>

                <!-- Nick Name -->
                <div>
                    <%= f.label :nickname, "Nick Name", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.text_field :nickname,
                        placeholder: "Your Nickname",
                        value: @profile.nickname,
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>

                <!-- Gender -->
                <div>
                    <%= f.label :gender, "Gender", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.select :gender,
                        [["Male", "male"], ["Female", "female"], ["Other", "other"]],
                        { prompt: "Your Gender", selected: @profile.gender },
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 text-gray-400" %>
                </div>

                <!-- Country -->
                <div>
                    <%= f.label :country, "Country", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.text_field :country,
                        placeholder: "Your Country",
                        value: @profile.country,
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>

                <!-- Dist -->
                <div>
                    <%= f.label :dist, "District", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.text_field :dist,
                        placeholder: "Your District",
                        value: @profile.dist,
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>
                <!-- City -->
                <div>
                <%= f.label :city_name, "City", class: "block text-sm font-medium text-gray-700" %>
                <%= f.text_field :city_name,
                    placeholder: "Your City",
                    value: @profile.city&.name,
                    class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>


                <!-- Language -->
                <div>
                    <%= f.label :language, "Language", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.text_field :language,
                        placeholder: "Your Language",
                        value: @profile.language,
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>

                <!-- Content Type -->
                <div>
                    <%= f.label :content_type, "Content Type", class: "block text-sm font-medium text-gray-700" %>
                    <%= f.text_field :content_type,
                        placeholder: "Your Content Type",
                        value: @profile.content_type,
                        class: "mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 py-3 px-4 placeholder-gray-400" %>
                </div>

                <!-- Submit -->
                <div class="col-span-2">
                    <%= f.submit "Save Profile", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-colors duration-200" %>
                </div>
                <% end %>


            <hr class="border-t border-gray-200 my-8">

            <!-- Email Section -->
            <div>
            <h3 class="text-lg font-semibold text-gray-800 mb-4">My email Address</h3>
            <div class="flex items-center space-x-4 bg-gray-50 rounded-xl p-4 border border-gray-200">
                <i class="fas fa-envelope text-blue-600 text-xl"></i>
                <div>
                <p class="font-medium text-gray-800"><%= @user.email_address %></p>
                <p class="text-gray-500 text-sm"><%= time_ago_in_words(@user.created_at) %> ago</p>
                </div>
            </div>
            </div>
            <div class="mt-5">
<%= button_to "Permanent Delete",
            user_delete_path,
            method: :delete,
            data: { confirm: "Are you sure? This action cannot be undone." },
            class: "btn bg-red-500 text-white rounded-xl hover:bg-red-300" %>

            </div>
        </div>
        </div>

        <div class="flex flex-col max-w-4xl mt-5 mx-auto">
            <div class="">
            <h1 class="mb-4 text-3xl font-extrabold text-gray-900 dark:text-white md:text-5xl lg:text-6xl"><span class="text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400">Social</span> Media connect</h1>
            </div>
            <div>
            <%=render "social_media"%>
            </div>
        </div>
    </div>