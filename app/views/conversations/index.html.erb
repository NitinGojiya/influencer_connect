<!-- app/views/conversations/index.html.erb -->
<div class="flex flex-col md:flex-row max-h-[700px] bg-gray-100 w-full px-4">

  <!-- Left Sidebar (Conversations List) -->
  <div class="w-full md:w-1/3 border-r border-gray-300 bg-white overflow-y-auto">
    <div class="p-4 border-b font-bold text-lg">Chats</div>

    <div id="conversations" data-controller="chat">
      <%= turbo_stream_from @user %>

    <% @conversations.order_by_last_message.each do |conversation| %>
      <%= render "conversations/list", conversation: conversation, user: @user %>
    <% end %>
    </div>
  </div>

  <!-- Right Side (Chat Window) -->
  <div class="flex-1 flex flex-col h-full">
    <%= turbo_frame_tag "chat_window" do %>
      <div class="flex items-center justify-center h-full text-gray-400 p-4">
        Select a chat to start messaging
      </div>
    <% end %>
  </div>

</div>
